<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#can{
				border: 1px solid #000;
			}
		</style>
	</head>
	<body>
		<canvas id="can" width="800" height="800">
			不支持！
		</canvas>
		<script type="text/javascript">
			var canNode=document.querySelector("#can");
			var ctx=canNode.getContext("2d");
			// 将线段端点设为圆形
			ctx.lineCap="round";
			// 绘制外圆
			// ctx.beginPath();
			// ctx.arc(400,400,300,0,2*Math.PI);
			// ctx.strokeStyle="#000";
			// ctx.lineWidth=20;
			// ctx.stroke();
			// // 绘制刻度
			// for(var i=0;i<12;i++){
			// 	// 大刻度
			// 	ctx.beginPath();
			// 	var x1=400+250*Math.sin(30*i/180*Math.PI);
			// 	// console.log(x1);
			// 	var y1=400-250*Math.cos(30*i/180*Math.PI);
			// 	// console.log(y1);
			// 	ctx.moveTo(x1,y1);
			// 	var x2=400+300*Math.sin(30*i/180*Math.PI);
			// 	var y2=400-300*Math.cos(30*i/180*Math.PI);
			// 	ctx.lineTo(x2,y2);
			// 	ctx.lineWidth=5;
			// 	ctx.strokeStyle="#000";
			// 	ctx.stroke();
			// 	// 小刻度
			// 	for(var j=1;j<5;j++){
			// 		ctx.beginPath();
			// 		var x3=400+280*Math.sin((30*i+6*j)/180*Math.PI);
			// 		// console.log(x3);
			// 		var y3=400-280*Math.cos((30*i+6*j)/180*Math.PI);
			// 		// console.log(y3);
			// 		ctx.moveTo(x3,y3);
			// 		var x4=400+300*Math.sin((30*i+6*j)/180*Math.PI);
			// 		var y4=400-300*Math.cos((30*i+6*j)/180*Math.PI);
			// 		ctx.lineTo(x4,y4);
			// 		ctx.lineWidth=2;
			// 		ctx.strokeStyle="#000";
			// 		ctx.stroke();
			// 	}
			// }

			// 获取计算机时间
			// var time=new Date();
			// var hour=time.getHours();
			// console.log(hour);
			// var minute=time.getMinutes();
			// console.log(minute);
			// var second=time.getSeconds();
			// console.log(second);
			
			// 先手工调用一次，使得页面一加载就有初始画面，不用等一个周期
			clock();
			var times=setInterval(
			clock,1000);
			function clock(){
				// 获取计算机时间
				var time=new Date();
				console.log(time);
				var hour=time.getHours();
				var minute=time.getMinutes();
				var second=time.getSeconds();
				// 
				ctx.clearRect(0,0,800,800);
				// 绘制外圆
				ctx.beginPath();
				ctx.arc(400,400,300,0,2*Math.PI);
				ctx.strokeStyle="#000";
				ctx.lineWidth=20;
				ctx.stroke();
				// 绘制刻度
				for(var i=0;i<12;i++){
					// 大刻度
					ctx.beginPath();
					var x1=400+250*Math.sin(30*i/180*Math.PI);
					// console.log(x1);
					var y1=400-250*Math.cos(30*i/180*Math.PI);
					// console.log(y1);
					ctx.moveTo(x1,y1);
					var x2=400+300*Math.sin(30*i/180*Math.PI);
					var y2=400-300*Math.cos(30*i/180*Math.PI);
					ctx.lineTo(x2,y2);
					ctx.lineWidth=10;
					ctx.strokeStyle="#000";
					ctx.stroke();
					// 小刻度
					for(var j=1;j<5;j++){
						ctx.beginPath();
						var x3=400+280*Math.sin((30*i+6*j)/180*Math.PI);
						// console.log(x3);
						var y3=400-280*Math.cos((30*i+6*j)/180*Math.PI);
						// console.log(y3);
						ctx.moveTo(x3,y3);
						var x4=400+300*Math.sin((30*i+6*j)/180*Math.PI);
						var y4=400-300*Math.cos((30*i+6*j)/180*Math.PI);
						ctx.lineTo(x4,y4);
						ctx.lineWidth=5;
						ctx.strokeStyle="#000";
						ctx.stroke();
					}
				}
				// 绘制时针
				ctx.beginPath()
				ctx.moveTo(400,400);
				var x=400+180*Math.sin((hour/6+minute/360+second/21600)*Math.PI);
				var y=400-180*Math.cos((hour/6+minute/360+second/21600)*Math.PI);
				console.log(x,y);
				ctx.lineTo(x,y);
				ctx.lineWidth=15;
				ctx.strokeStyle="#000";
				ctx.stroke();
				// 绘制分针
				ctx.beginPath()
				ctx.moveTo(400,400);
				var x=400+220*Math.sin((minute/30+second/1800)*Math.PI);
				var y=400-220*Math.cos((minute/30+second/1800)*Math.PI);
				ctx.lineTo(x,y);
				ctx.lineWidth=10;
				ctx.strokeStyle="dodgerblue";
				ctx.stroke();
				// 绘制秒针
				ctx.beginPath()
				ctx.moveTo(400,400);
				var x=400+260*Math.sin(second/30*Math.PI);
				var y=400-260*Math.cos(second/30*Math.PI);
				ctx.lineTo(x,y);
				ctx.lineWidth=5;
				ctx.strokeStyle="red";
				ctx.stroke();
				// 绘制中心圆
				ctx.beginPath();
				ctx.arc(400,400,7.5,0,2*Math.PI);
				ctx.fillStyle="red";
				ctx.fill();
			}
			// 时针样式
			// ctx.beginPath();
			// ctx.moveTo(400,400);
			// ctx.lineTo(400,260);
			// ctx.strokeStyle="#000";
			// ctx.lineWidth=15;
			// ctx.stroke();
			// // 绘制分针
			// ctx.beginPath();
			// ctx.moveTo(400,400);
			// ctx.lineTo(400,220);
			// ctx.strokeStyle="dodgerblue";
			// ctx.lineWidth=10;
			// ctx.stroke();
			// // 绘制秒针
			// ctx.beginPath();
			// ctx.moveTo(400,400);
			// ctx.lineTo(400,180);
			// ctx.strokeStyle="red";
			// ctx.lineWidth=5;
			// ctx.stroke();
			
			// 定时跳动
			// var second=setInterval(function{
				
			// },1000)
		</script>
	</body>
</html>
